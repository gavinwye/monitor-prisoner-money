{% extends "layout.html" %}

{% block pageTitle %}
Credits
{% endblock %}

{% block content %}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    <h1 class="govuk-heading-xl govuk-!-margin-bottom-6">
      Credits search results
    </h1>
  </div>
  <div class="govuk-grid-column-full">
    <form class="form" method="post">
      <div class="govuk-form-group">
        <label class="govuk-label" for="width-20">
          payment_source name, payment_source email address or prisoner number
        </label>
        <input class="govuk-input govuk-!-width-two-thirds" id="creditSearch" name="creditSearch" type="text" value="{{ data['creditSearch'] }}">
        {{ govukButton({
          html: 'Search'
        }) }}
        <p><a href="/advanced-search/" class="govuk-link govuk-link--no-visited-state">Advanced search</a></p>
      </div>
    </form>

    <!-- <hr class="govuk-section-break govuk-section-break--s govuk-section-break--visible"> -->
    {%- if credits.length == 0 -%}
    <p class="govuk-body-l">Your search for <span class="govuk-!-font-weight-bold">"{{ data['creditSearch'] }}"</span> returned no results <a href="/credits/" class="govuk-link--no-visited-state">search again</a></p>
    {%- else -%}
    <p class="govuk-body-l">Search results for <span class="govuk-!-font-weight-bold">{{ data['creditSearch'] }}</span> <a href="/credits/" class="govuk-link--no-visited-state">clear search</a></p>
    <table class="govuk-table govuk-!-font-size-14 ">
    <!-- <caption class="govuk-table__caption">Credits for your prisons sorted by date</caption> -->
      {% include "credits/includes/_table_header.html" %}
      <tbody class="govuk-table__body">
        {%- for credit in credits -%}
          {% include "credits/includes/_table_row.html" %}
        {%- endfor -%}
      </tbody>
    </table>
    {%- endif -%}
  </div>
</div>

{% endblock %}
