{% extends "layout-search-results.html" %}

{% block pageTitle %}
Disbursements - Search results
{% endblock %}

{% block content %}
<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">
    <div class="govuk-grid-row">
      <div class="govuk-grid-column-two-thirds">
        <h1 class="govuk-heading-xl">
          <span class="govuk-caption-xl">Disbursements</span>
          Search results
        </h1>
        {%- if disbursements.length == 0 -%}
        <h2 class="govuk-body-l">Your search for <span class="govuk-!-font-weight-bold">'{{ data['disbursementSearch'] }}'</span> returned no results</h2>
        {{ govukButton({
          text: "Search again",
          classes: "govuk-button",
          href: "/disbursements"
        }) }}
        {%- else -%}
        <h2 class="govuk-body-l">Search results for <span class="govuk-!-font-weight-bold">'{{ data['disbursementSearch'] }}'</span></h2>
      </div>
    </div>
    <table class="govuk-table govuk-!-font-size-16 ">
      <!-- <caption class="govuk-table__caption">Credits for your prisons sorted by date</caption> -->
      {% include "disbursements/includes/_table_header.html" %}
      <tbody class="govuk-table__body ">
        {%- for disbursement in disbursements -%}
        {% include "disbursements/includes/_table_row.html" %}
        {%- endfor -%}
      </tbody>
    </table>
    {% from "moj-pagination/macro.njk" import mojPagination %}
    <!-- Only display pagination if there are more than 25 results on the page -->
    {{ mojPagination({
      results: {
        from: 1,
        to: 5,
        count: 85
      },

      previous: {
        text: 'Previous',
        href: ''
      },

      next: {
        text: 'Next',
        href: ''
      },

      items: [{
        text: '1',
        href: '/page=1',
        selected: true
      }, {
        text: '2',
        href: '/page=5'
      }, {
        text: '3',
        href: '/page=6'
      }]
    }) }}
    {{ govukButton({
      text: "Search again",
      classes: "govuk-button govuk-!-margin-top-9",
      href: "/disbursements"
    }) }}
    <p class="govuk-body"><a href="/disbursements/results-other-prisons" class="govuk-link--no-visited-state">Results containing <span class="govuk-!-font-weight-bold">'{{ data['disbursementSearch'] }}'</span> from other prisons</a></p>
    {%- endif -%}
  </div>
</div>

{% endblock %}
